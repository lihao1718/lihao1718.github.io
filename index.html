<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>记录</title>

  <!-- keywords -->
  

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="日常记录">
<meta property="og:type" content="website">
<meta property="og:title" content="记录">
<meta property="og:url" content="http://li1718.top/index.html">
<meta property="og:site_name" content="记录">
<meta property="og:description" content="日常记录">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="li">
<meta name="twitter:card" content="summary">
  
    <link rel="alternative" href="/atom.xml" title="记录" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/favicon.ico">
  
  
<link rel="stylesheet" href="/css/style.css">

  
  

  
<script src="//cdn.bootcss.com/require.js/2.3.2/require.min.js"></script>

  
<script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>


  
<meta name="generator" content="Hexo 6.2.0"></head>
<body>
  <div id="container">
    <div id="particles-js"></div>
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
				<img lazy-src="img/avatar.gif" class="js-avatar">
			
		</a>

		<hgroup>
			<h1 class="header-author"><a href="/">li</a></h1>
		</hgroup>

		
			<p class="header-subtitle"></p>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">归档</a></li>
				        
						</ul>
					</nav>
					<nav class="half-header-menu">
						<a class="hide">Home</a>
						<a>Tags</a>
						<a>Links</a>
						<a>About</a>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
						</div>
						<!-- music -->
						
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/Hexo/" style="font-size: 10px;">Hexo</a> <a href="/tags/Linux/" style="font-size: 18.33px;">Linux</a> <a href="/tags/databases/" style="font-size: 11.67px;">databases</a> <a href="/tags/docker/" style="font-size: 15px;">docker</a> <a href="/tags/index/" style="font-size: 11.67px;">index</a> <a href="/tags/java/" style="font-size: 20px;">java</a> <a href="/tags/jvm/" style="font-size: 13.33px;">jvm</a> <a href="/tags/linux/" style="font-size: 16.67px;">linux</a> <a href="/tags/log/" style="font-size: 15px;">log</a> <a href="/tags/maven/" style="font-size: 10px;">maven</a> <a href="/tags/mysql/" style="font-size: 10px;">mysql</a> <a href="/tags/oracle/" style="font-size: 10px;">oracle</a> <a href="/tags/python/" style="font-size: 10px;">python</a> <a href="/tags/redis/" style="font-size: 13.33px;">redis</a> <a href="/tags/shell/" style="font-size: 10px;">shell</a> <a href="/tags/tool/" style="font-size: 11.67px;">tool</a> <a href="/tags/windows/" style="font-size: 10px;">windows</a> <a href="/tags/%E8%AE%B0%E5%BD%95/" style="font-size: 13.33px;">记录</a> <a href="/tags/%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/" style="font-size: 18.33px;">软件安装</a> <a href="/tags/%E8%BE%BE%E6%A2%A6/" style="font-size: 10px;">达梦</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="https://github.com/">github</a>
			        
			        </div>
				</section>
				

				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide"></h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="img/avatar.gif" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author"></h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">归档</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap">
  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2022/08/10/hello-world/" class="article-date">
  	<time datetime="2022-08-10T12:51:15.097Z" itemprop="datePublished">2022-08-10</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/08/10/hello-world/">
        Hello World
        
          <span class="title-pop-out">[置顶]</a>
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
      
    </div>
    
    <div class="article-info article-info-index">
      
        <div class="article-pop-out tagcloud">
          <a class="">置顶</a>
        </div>
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/index/" rel="tag">index</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Hexo/">Hexo</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
      
        <p class="article-more-link">
          <a  href="/2022/08/10/hello-world/#more">learn more >></a>
        </p>
      
    
  </div>
  
</article>







  
    <article id="post-tool/MP4转gif" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2022/09/18/tool/MP4%E8%BD%ACgif/" class="article-date">
  	<time datetime="2022-09-18T09:58:30.844Z" itemprop="datePublished">2022-09-18</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/09/18/tool/MP4%E8%BD%ACgif/">
        MP4转gif
        
          <span class="title-pop-out">[置顶]</a>
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="MP4文件批量转换转gif实现"><a href="#MP4文件批量转换转gif实现" class="headerlink" title="MP4文件批量转换转gif实现"></a>MP4文件批量转换转gif实现</h1><p>本功能实现是基于FFmpeg,以及用于调用<a target="_blank" rel="noopener" href="https://www.ffmpeg.org/download.html#build-windows">FFmpeg</a>的工具jar包<a target="_blank" rel="noopener" href="https://github.com/a-schild/jave2">Jave</a>。</p>
      
    </div>
    
    <div class="article-info article-info-index">
      
        <div class="article-pop-out tagcloud">
          <a class="">置顶</a>
        </div>
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/" rel="tag">java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tool/" rel="tag">tool</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/tool/">tool</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
      
        <p class="article-more-link">
          <a  href="/2022/09/18/tool/MP4%E8%BD%ACgif/#more">learn more >></a>
        </p>
      
    
  </div>
  
</article>







  
    <article id="post-tool/打包可执行jar" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2022/09/18/tool/%E6%89%93%E5%8C%85%E5%8F%AF%E6%89%A7%E8%A1%8Cjar/" class="article-date">
  	<time datetime="2022-09-18T09:43:03.367Z" itemprop="datePublished">2022-09-18</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/09/18/tool/%E6%89%93%E5%8C%85%E5%8F%AF%E6%89%A7%E8%A1%8Cjar/">
        打包可执行jar
        
          <span class="title-pop-out">[置顶]</a>
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="java打包swing项目时操作步骤"><a href="#java打包swing项目时操作步骤" class="headerlink" title="java打包swing项目时操作步骤"></a>java打包swing项目时操作步骤</h2>
      
    </div>
    
    <div class="article-info article-info-index">
      
        <div class="article-pop-out tagcloud">
          <a class="">置顶</a>
        </div>
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/" rel="tag">java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tool/" rel="tag">tool</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/tool/">tool</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
      
        <p class="article-more-link">
          <a  href="/2022/09/18/tool/%E6%89%93%E5%8C%85%E5%8F%AF%E6%89%A7%E8%A1%8Cjar/#more">learn more >></a>
        </p>
      
    
  </div>
  
</article>







  
    <article id="post-hexo" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2022/08/20/hexo/" class="article-date">
  	<time datetime="2022-08-19T16:33:02.170Z" itemprop="datePublished">2022-08-20</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/08/20/hexo/">
        Hello Hexo
        
          <span class="title-pop-out">[置顶]</a>
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Hexo简单的命令记录</p>
<h2 id="操作命令"><a href="#操作命令" class="headerlink" title="操作命令"></a>操作命令</h2><h3 id="generate-生成静态文件"><a href="#generate-生成静态文件" class="headerlink" title="generate 生成静态文件"></a>generate 生成静态文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>该命令可以简写为</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo g</span><br></pre></td></tr></table></figure>
      
    </div>
    
    <div class="article-info article-info-index">
      
        <div class="article-pop-out tagcloud">
          <a class="">置顶</a>
        </div>
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Hexo/" rel="tag">Hexo</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/index/" rel="tag">index</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Hexo/">Hexo</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
      
        <p class="article-more-link">
          <a  href="/2022/08/20/hexo/#more">learn more >></a>
        </p>
      
    
  </div>
  
</article>







  
    <article id="post-linux/oracle_JDK1.8" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2023/11/16/linux/oracle_JDK1.8/" class="article-date">
  	<time datetime="2023-11-16T08:52:51.688Z" itemprop="datePublished">2023-11-16</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/11/16/linux/oracle_JDK1.8/">
        oracle JDK1.8安装
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1><span id="oracle-jdk18安装">oracle JDK1.8安装</span></h1><p>安装包: <a target="_blank" rel="noopener" href="https://www.oracle.com/java/technologies/downloads/#java8">oracle jdk1.8</a>  </p>
<h2><span id="1-卸载自带的openjdk">1. 卸载自带的openJDK</span></h2><h3><span id="查看命令并卸载">查看命令并卸载</span></h3><p>查看openjdk：<br><code>rpm -qa | grep jdk</code><br>卸载openjdk：<br><code>rpm -e --nodeps **</code>  </p>
<h2><span id="2-安装oraclejdk18">2. 安装oracleJdk1.8</span></h2><h3><span id="压缩包上传">压缩包上传</span></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#新建文件夹</span></span><br><span class="line"><span class="built_in">mkdir</span> -p /usr/local/java</span><br><span class="line"><span class="comment">#上传jar到指定文件夹</span></span><br><span class="line"><span class="built_in">cd</span> /usr/local/java/</span><br><span class="line"><span class="comment">#解压</span></span><br><span class="line">tar -zxvf jdk-8u391-linux-x64.tar.gz</span><br></pre></td></tr></table></figure>

<h3><span id="配置jdk环境变量">配置jdk环境变量</span></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/profile</span><br><span class="line"></span><br><span class="line"><span class="comment"># set java enviroment JAVA环境配置项</span></span><br><span class="line"><span class="built_in">export</span> JAVA_HOME=/usr/local/java/jdk1.8.0_391</span><br><span class="line"><span class="built_in">export</span> JRE_HOME=<span class="variable">$&#123;JAVA_HOME&#125;</span>/jre</span><br><span class="line"><span class="built_in">export</span> CLASSPATH=.:<span class="variable">$&#123;JAVA_HOME&#125;</span>/lib:<span class="variable">$&#123;JRE_HOME&#125;</span>/lib</span><br><span class="line"><span class="built_in">export</span> JAVA_PATH=<span class="variable">$&#123;JAVA_HOME&#125;</span>/bin:<span class="variable">$&#123;JRE_HOME&#125;</span>/bin</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$&#123;JAVA_PATH&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#保存退出</span></span><br><span class="line">:qw</span><br><span class="line"><span class="comment">#使配置生效命令</span></span><br><span class="line"><span class="built_in">source</span> /etc/profile</span><br><span class="line"><span class="comment">#查询是否安装配置成功</span></span><br><span class="line">java -version</span><br><span class="line">javac -version</span><br></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/" rel="tag">java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux/" rel="tag">linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/" rel="tag">软件安装</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/java/">java</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-linux/systemctl常用命令" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2023/11/16/linux/systemctl%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/" class="article-date">
  	<time datetime="2023-11-16T08:38:07.250Z" itemprop="datePublished">2023-11-16</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/11/16/linux/systemctl%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/">
        systemctl常用命令
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1><span id="systemctl常用命令">systemctl常用命令</span></h1><h2><span id="systemctl-防火墙操作">systemctl 防火墙操作</span></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#暂时关闭防火墙的命令：</span></span><br><span class="line">systemctl stop firewalld</span><br><span class="line"><span class="comment">#暂时开启防火墙：</span></span><br><span class="line">systemctl start firewalld</span><br><span class="line"></span><br><span class="line"><span class="comment">#永久关闭防火墙(禁用开机自启)下次启动，才生效：</span></span><br><span class="line">systemctl <span class="built_in">disable</span> firewalld</span><br><span class="line"><span class="comment">#永久开启防火墙(启用开机自启)下次启动，才生效：</span></span><br><span class="line">systemctl <span class="built_in">enable</span> firewalld</span><br></pre></td></tr></table></figure>

<h2><span id="systemctl-常用命令">systemctl 常用命令</span></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">1、启动服务 </span><br><span class="line">systemctl start 服务名</span><br><span class="line"></span><br><span class="line">2、停止服务 </span><br><span class="line">systemctl stop 服务名</span><br><span class="line"></span><br><span class="line">3、重启服务 </span><br><span class="line">systemctl restart 服务名</span><br><span class="line"></span><br><span class="line">4、查看服务是否已启动 </span><br><span class="line">systemctl is-active 服务名</span><br><span class="line"></span><br><span class="line">5、查看服务的状态 </span><br><span class="line">systemctl status 服务名</span><br><span class="line"></span><br><span class="line">6、启用开机自启动服务</span><br><span class="line">systemctl <span class="built_in">enable</span> 服务名</span><br><span class="line"></span><br><span class="line">7、停用开机自启动服务</span><br><span class="line">systemctl <span class="built_in">disable</span> 服务名</span><br><span class="line"></span><br><span class="line">8、查看服务是否为开机自启动</span><br><span class="line">systemctl is-enabled 服务名</span><br><span class="line"></span><br><span class="line">9、只重启正在运行中的服务</span><br><span class="line">systemctl try-restart 服务名</span><br><span class="line"></span><br><span class="line">10、显示所有的服务状态---空格翻页 q推出</span><br><span class="line">systemctl list-units --<span class="built_in">type</span> service --all</span><br><span class="line"></span><br><span class="line">11、查看启动成功的服务列表</span><br><span class="line">systemctl list-unit-files|grep enabled</span><br><span class="line"></span><br><span class="line">12、查看启动失败的服务列表</span><br><span class="line">systemctl --failed</span><br><span class="line"></span><br><span class="line">13、查看所有服务的状态---空格翻页 q推出</span><br><span class="line">systemctl list-unit-files --<span class="built_in">type</span> service</span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux/" rel="tag">linux</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/log/">log</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-linux/python3环境安装" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2023/11/16/linux/python3%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85/" class="article-date">
  	<time datetime="2023-11-16T08:38:03.037Z" itemprop="datePublished">2023-11-16</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/11/16/linux/python3%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85/">
        python安装
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1><span id="python安装">python安装</span></h1><p><a target="_blank" rel="noopener" href="https://www.python.org/downloads/release/python-3612/">python3.6.12</a><br><a target="_blank" rel="noopener" href="https://pypi.org/">python库</a><br><a target="_blank" rel="noopener" href="https://www.zlib.net/zlib-1.3.tar.gz">zlib1.3</a><br><a target="_blank" rel="noopener" href="https://www.openssl.org/source/openssl-1.1.1w.tar.gz">openssl-1.1.1</a></p>
<h2><span id="1-前置安装">1. 前置安装</span></h2><p>python安装依赖于gcc、openssl-devel、zlib-devel<br>实际环境存在gcc环境,仅安装openssl-devel、zlib-devel<br><em><strong>前置安装使用root用户操作</strong></em>  </p>
<h3><span id="11-安装zlib">1.1 安装zlib</span></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#下载zlib离线包</span></span><br><span class="line"><span class="comment">#解压</span></span><br><span class="line">tar -xvf zlib-1.3.tar.gz</span><br><span class="line"><span class="comment">#编译</span></span><br><span class="line">./configure</span><br><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure>

<h3><span id="12-安装openssl-111">1.2 安装openssl-1.1.1</span></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#下载openssl离线包(版本尽量为1.1.X)</span></span><br><span class="line"><span class="comment">#解压</span></span><br><span class="line">tar -xvf openssl-1.1.1n.tar.gz</span><br><span class="line"><span class="comment">#编译</span></span><br><span class="line">./config --prefix=/usr/local/openssl --openssldir=/usr/local/openssl</span><br><span class="line">make &amp;&amp; make install</span><br><span class="line"></span><br><span class="line"><span class="comment">#配置环境变量</span></span><br><span class="line">vim ~/.bashrc</span><br><span class="line"><span class="built_in">export</span> LD_LIBRARY_PATH=/usr/local/openssl/lib:<span class="variable">$LD_LIBRARY_PATH</span></span><br><span class="line"><span class="built_in">export</span> PATH=/usr/local/openssl/bin:<span class="variable">$PATH</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br><span class="line">````  </span><br><span class="line"></span><br><span class="line"><span class="comment">## 2. python安装</span></span><br><span class="line"></span><br><span class="line">````bash</span><br><span class="line"><span class="comment">#下载python</span></span><br><span class="line"><span class="comment">#解压</span></span><br><span class="line">tar -xvf Python-3.6.12.tgz</span><br><span class="line"><span class="built_in">cd</span> Python-3.6.12</span><br><span class="line"><span class="comment">#编译和安装：</span></span><br><span class="line"><span class="comment">#执行以下命令进行编译和安装：</span></span><br><span class="line">./configure --prefix=/usr/local/python3 --with-openssl=/usr/local/openssl --with-ssl</span><br><span class="line">make &amp;&amp; make install</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3><span id="报错查看">报错查看</span></h3><p><code>/usr/bin/install: cannot create regular file /usr/local/bin/python3.6: Permission denied make: *** [altbininstall] Error 1</code>  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#执行</span></span><br><span class="line">./configure --prefix=<span class="variable">$HOME</span>/py26</span><br><span class="line">make install</span><br></pre></td></tr></table></figure>

<p><code>If you want a release build with all stable optimizations active (PGO, etc), please run ./configure --enable-optimizations</code>  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#请执行</span></span><br><span class="line">./configure --enable-optimizations</span><br></pre></td></tr></table></figure>

<h3><span id="验证安装">验证安装</span></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 --version</span><br></pre></td></tr></table></figure>

<p><em><strong>其他用户未配置环境变量可能无法使用Python,需要手动配置</strong></em></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#其他用户添加python</span></span><br><span class="line">vi ~/.bashrc</span><br><span class="line"><span class="comment">#添加环境变量</span></span><br><span class="line"><span class="built_in">export</span> PATH=<span class="string">&quot;/usr/local/python3/bin:<span class="variable">$PATH</span>&quot;</span></span><br><span class="line"><span class="comment">#刷新配置文件</span></span><br><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br></pre></td></tr></table></figure>

<h2><span id="3-安装第三方库">3. 安装第三方库</span></h2><p><em><strong>安装可通过python安装或pip安装</strong></em></p>
<h3><span id="31-pip安装">3.1 pip安装</span></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">pip3 install cryptography-3.4.8.tar.gz</span><br><span class="line">pip3 install gbase-connector-python-3.0.1.tar.gz</span><br><span class="line">pip3 install urllib3-1.26.18.tar.gz</span><br><span class="line">pip3 install charset-normalizer-2.0.12.tar.gz</span><br><span class="line">pip3 install certifi-2023.7.22.tar.gz</span><br><span class="line">pip3 install idna-3.4-py3-none-any.whl </span><br><span class="line">pip3 install pycparser-2.21-py2.py3-none-any.whl</span><br><span class="line">pip3 install requests-2.31.0.tar.gz</span><br></pre></td></tr></table></figure>

<h3><span id="32-python安装">3.2 python安装</span></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#以requests模块举例</span></span><br><span class="line"><span class="comment">#解压文件后转入目录执行命令`python setup.py install`</span></span><br><span class="line">tar -xvf requests-2.31.0.tar.gz</span><br><span class="line"><span class="built_in">cd</span> requests-2.31.0</span><br><span class="line">python3 setup.py install</span><br></pre></td></tr></table></figure>

<h3><span id="33-查看安装">3.3 查看安装</span></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 list</span><br></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux/" rel="tag">linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/" rel="tag">python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/" rel="tag">软件安装</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/java/">java</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-linux/nginx在linux环境安装" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2023/11/16/linux/nginx%E5%9C%A8linux%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85/" class="article-date">
  	<time datetime="2023-11-16T08:37:56.273Z" itemprop="datePublished">2023-11-16</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/11/16/linux/nginx%E5%9C%A8linux%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85/">
        nginx安装
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1><span id="nginx安装">nginx安装</span></h1><p><a target="_blank" rel="noopener" href="https://www.zlib.net/zlib-1.3.tar.gz">zlib1.3</a><br><a target="_blank" rel="noopener" href="https://www.openssl.org/source/openssl-1.1.1w.tar.gz">openssl-1.1.1</a><br><a target="_blank" rel="noopener" href="http://mirror.centos.org/centos/7/os/x86_64/Packages/pcre-8.32-17.el7.x86_64.rpm">pcre</a><br><a target="_blank" rel="noopener" href="http://mirror.centos.org/centos/7/os/x86_64/Packages/pcre-devel-8.32-17.el7.x86_64.rpm">pcre-devel</a></p>
<h2><span id="1-前置安装">1. 前置安装</span></h2><p>nginx安装依赖于g++、gcc、openssl-devel、pcre-devel和zlib-devel<br>实际环境存在gcc环境,仅安装openssl-devel、pcre-devel和zlib-devel<br><em><strong>前置安装使用root用户操作</strong></em> </p>
<h3><span id="11-安装zlib">1.1 安装zlib</span></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#下载zlib离线包</span></span><br><span class="line"><span class="comment">#解压</span></span><br><span class="line">tar -xvf zlib-1.3.tar.gz</span><br><span class="line"><span class="comment">#编译</span></span><br><span class="line">./configure</span><br><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure>

<h3><span id="12安装openssl-111">1.2安装openssl-1.1.1</span></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#下载openssl离线包(版本尽量为1.1.X)</span></span><br><span class="line"><span class="comment">#解压</span></span><br><span class="line">tar -xvf openssl-1.1.1n.tar.gz</span><br><span class="line"><span class="comment">#编译</span></span><br><span class="line">./config --prefix=/usr/local/openssl --openssldir=/usr/local/openssl</span><br><span class="line">make &amp;&amp; make install</span><br><span class="line"></span><br><span class="line"><span class="comment">#配置环境变量</span></span><br><span class="line">vim ~/.bashrc</span><br><span class="line"><span class="built_in">export</span> LD_LIBRARY_PATH=/usr/local/openssl/lib:<span class="variable">$LD_LIBRARY_PATH</span></span><br><span class="line"><span class="built_in">export</span> PATH=/usr/local/openssl/bin:<span class="variable">$PATH</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br></pre></td></tr></table></figure>

<h3><span id="13安装pcre依赖包">1.3安装pcre依赖包</span></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#安装pcre依赖包</span></span><br><span class="line">rpm -ivh pcre-8.32-17.el7.x86_64.rpm --force</span><br><span class="line">rpm -ivh pcre-devel-8.32-17.el7.x86_64.rpm</span><br></pre></td></tr></table></figure>

<h2><span id="2nginx安装">2.nginx安装</span></h2><p><em><strong>nginx使用一般用户安装</strong></em>  </p>
<h3><span id="21-安装">2.1 安装</span></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#使用root用户创建文件夹,再切换至一般用户</span></span><br><span class="line"><span class="built_in">mkdir</span> /usr/local/nginx</span><br><span class="line"><span class="built_in">chmod</span> 777 /usr/local/nginx</span><br><span class="line">su nginx</span><br><span class="line"><span class="comment">#使用nginx用户操作</span></span><br><span class="line"><span class="comment">#下载nginx安装包,并解压</span></span><br><span class="line">tar -xvf nginx-1.24.0.tar.gz</span><br><span class="line"><span class="comment">#安装</span></span><br><span class="line">./configure --prefix=/usr/local/nginx</span><br><span class="line">make &amp;&amp; make install</span><br><span class="line"></span><br><span class="line"><span class="comment">#/usr/local/nginx/conf目录下nginx.cof文件根据实际情况替换</span></span><br></pre></td></tr></table></figure>

<h3><span id="22-操作命令">2.2 操作命令</span></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 启动nginx</span></span><br><span class="line">/usr/local/nginx/sbin/nginx</span><br><span class="line"><span class="comment"># 立即停止Nginx服务</span></span><br><span class="line">/usr/local/nginx/sbin/nginx -s stop</span><br><span class="line"><span class="comment"># 完成当前任务后停止</span></span><br><span class="line">/usr/local/nginx/sbin/nginx -s quit</span><br></pre></td></tr></table></figure>

<h3><span id="23-nginx配置开机启动">2.3 Nginx配置开机启动</span></h3><p>首先创建nginx.service  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">vi nginx.service</span><br><span class="line"><span class="comment">#编辑</span></span><br><span class="line">[Unit]</span><br><span class="line">Description=nginx - high performance web server </span><br><span class="line">Documentation=http://nginx.org/en/docs/</span><br><span class="line">After=network. target remote-fs.target nss -lookup. target</span><br><span class="line"></span><br><span class="line">[Service] </span><br><span class="line">Type=forking</span><br><span class="line">PIDFile=/usr/local/nginx/logs/nginx.pid</span><br><span class="line">ExecStartPre=/usr/local/nginx/sbin/nginx -t -c /usr/local/nginx/conf/nginx.conf</span><br><span class="line">ExecStart=/usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf</span><br><span class="line">ExecReload=/bin/kill -s HUP <span class="variable">$MAINPID</span> </span><br><span class="line">ExecStop=/bin/kill -s QUIT <span class="variable">$MAINPID</span></span><br><span class="line">PrivateTmp=<span class="literal">true</span></span><br><span class="line"></span><br><span class="line">[Install] </span><br><span class="line">WantedBy=multi-user.target</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#将nginx.service移动到/usr/lib/systemd/system/目录下</span></span><br><span class="line"><span class="built_in">cp</span> nginx.service /usr/lib/systemd/system/</span><br><span class="line"><span class="comment">#重启配置服务</span></span><br><span class="line">systemctl daemon-reload</span><br><span class="line"><span class="comment">#启动nginx服务</span></span><br><span class="line">systemctl start nginx</span><br><span class="line"><span class="comment">#配置nginx开机自启</span></span><br><span class="line">systemctl <span class="built_in">enable</span> nginx</span><br></pre></td></tr></table></figure>

<p>显示<code>Created symlink from /etc/systemd/system/multi-user.target.wants/nginx.service to /usr/lib/systemd/system/nginx.service</code>配置成功</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#重启服务</span></span><br><span class="line">reboot</span><br><span class="line"><span class="comment">#验证</span></span><br><span class="line">systemctl status nginx</span><br></pre></td></tr></table></figure>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux/" rel="tag">linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/" rel="tag">软件安装</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/linux/">linux</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-linux/weblogic环境安装（linux静默安装）" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2023/11/13/linux/weblogic%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85%EF%BC%88linux%E9%9D%99%E9%BB%98%E5%AE%89%E8%A3%85%EF%BC%89/" class="article-date">
  	<time datetime="2023-11-13T14:59:25.642Z" itemprop="datePublished">2023-11-13</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1><span id="linux安装weblogic">Linux安装weblogic</span></h1><p>服务器:contOS7<br>环境: <a target="_blank" rel="noopener" href="https://www.oracle.com/cn/java/technologies/downloads/">oracle jdk-8u391</a><br>安装包: <a target="_blank" rel="noopener" href="https://www.oracle.com/cn/middleware/technologies/weblogic-server-downloads.html">WebLogic Server 12.2.1.4</a><br>oracle地址: <a target="_blank" rel="noopener" href="https://www.oracle.com/cn/middleware/technologies/weblogic-server-downloads.html">总下载目录</a>  </p>
<h2><span id="1安装步骤">1.安装步骤</span></h2><h3><span id="11新增用户添加文件夹">1.1新增用户,添加文件夹</span></h3><p>安装weblogic不能用ROOT用户安装,必须先新增用户  </p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">adduser weblogic</span><br><span class="line">passwd weblogic</span><br><span class="line"><span class="comment">#切换用户操作</span></span><br><span class="line">su weblogic</span><br><span class="line"><span class="built_in">cd</span> ~</span><br><span class="line"><span class="comment">#新增文件夹,存放weblogic</span></span><br><span class="line"><span class="built_in">mkdir</span> weblogic12c</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3><span id="12创建orainstloc文件">1.2.创建oraInst.loc文件</span></h3><p><em><strong>注意指定inventory_loc路径</strong></em></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi oraInst.loc </span><br></pre></td></tr></table></figure>

<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">inventory_loc=/home/weblogic/oraInventory</span><br><span class="line">inst_group=weblgoic</span><br></pre></td></tr></table></figure>

<p><em><strong>清单目录中存放的文件名为orainst.loc。如果该文件不存在于您的系统上，则必须在启动静默安装之前创建该文件。安装程序使用此文件。</strong></em></p>
<h3><span id="13创建响应文件wlsrsp">1.3.创建响应文件wls.rsp</span></h3><p><em><strong>注意指定ORACLE_HOME路径</strong></em></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi wls.rsp </span><br></pre></td></tr></table></figure>

<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">[ENGINE]</span><br><span class="line"><span class="comment">#DO NOT CHANGE THIS.</span></span><br><span class="line">Response File Version=1.0.0.0.0</span><br><span class="line">[GENERIC]</span><br><span class="line"><span class="comment">#weblogic路径 唯一需要改动的地址</span></span><br><span class="line">ORACLE_HOME=/home/weblogic/weblogic12c/bea</span><br><span class="line"><span class="comment">#Set this variable value to the Installation Type selected. e.g. WebLogic Server, Coherence, Complete with Examples.</span></span><br><span class="line">INSTALL_TYPE=WebLogic Server</span><br><span class="line"><span class="comment">#Provide the My Oracle Support Username. If you wish to ignore Oracle Configuration Manager configuration provide empty string for user name.</span></span><br><span class="line">MYORACLESUPPORT_USERNAME=</span><br><span class="line"><span class="comment">#Provide the My Oracle Support Password</span></span><br><span class="line">MYORACLESUPPORT_PASSWORD=&lt;SECURE VALUE&gt;</span><br><span class="line"><span class="comment">#Set this to true if you wish to decline the security updates. Setting this to true and providing empty string for My Oracle Support username will ignore the Oracle Configuration Manager configuration</span></span><br><span class="line">DECLINE_SECURITY_UPDATES=<span class="literal">true</span></span><br><span class="line"><span class="comment">#Set this to true if My Oracle Support Password is specified</span></span><br><span class="line">SECURITY_UPDATES_VIA_MYORACLESUPPORT=<span class="literal">false</span></span><br><span class="line"><span class="comment">#Provide the Proxy Host</span></span><br><span class="line">PROXY_HOST=</span><br><span class="line"><span class="comment">#Provide the Proxy Port</span></span><br><span class="line">PROXY_PORT=</span><br><span class="line"><span class="comment">#Provide the Proxy Username</span></span><br><span class="line">PROXY_USER=</span><br><span class="line"><span class="comment">#Provide the Proxy Password</span></span><br><span class="line">PROXY_PWD=&lt;SECURE VALUE&gt;</span><br><span class="line"><span class="comment">#Type String (URL format) Indicates the OCM Repeater URL which should be of the format [scheme[Http/Https]]://[repeater host]:[repeater port]</span></span><br><span class="line">COLLECTOR_SUPPORTHUB_URL=</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3><span id="14-安装">1.4. 安装</span></h3><p><em><strong>注意指定wls.rsp和oraInst.loc路径</strong></em></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -jar fmw_12.2.1.4.0_wls.jar -silent -responseFile/home/weblogic/weblogic12c/wls.rsp -invPtrLoc //home/weblogic/weblogic12c/oraInst.loc  </span><br></pre></td></tr></table></figure>

<h2><span id="2创建域">2.创建域</span></h2><h3><span id="21配置环境变量">2.1配置环境变量</span></h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vi ~/.bash_profile</span><br><span class="line"><span class="built_in">export</span> MW_HOME=/home/weblogic/weblogic12c/bea</span><br><span class="line"><span class="built_in">source</span> ~/.bash_profile</span><br></pre></td></tr></table></figure>

<h3><span id="22创建操作">2.2创建操作</span></h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#启动创建流程</span></span><br><span class="line"><span class="built_in">cd</span> <span class="variable">$MW_HOME</span>/wlserver/common/bin</span><br><span class="line">./wlst.sh </span><br></pre></td></tr></table></figure>

<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">wls:/offline&gt; </span><br><span class="line"><span class="comment">#根据实际路径修改</span></span><br><span class="line">wls:/offline&gt; readTemplate(<span class="string">&#x27;/home/weblogic/weblogic12c/bea/wlserver/common/templates/wls/wls.jar&#x27;</span>)</span><br><span class="line">wls:/offline/base_domain&gt; <span class="built_in">cd</span>(<span class="string">&#x27;Servers/AdminServer&#x27;</span>)</span><br><span class="line">wls:/offline/base_domain/Server/AdminServer&gt; <span class="built_in">set</span>(<span class="string">&#x27;ListenAddress&#x27;</span>,<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"><span class="comment">#配置启动端口可能执行失败,继续向下执行,默认端口为7001</span></span><br><span class="line">wls:/offline/base_domain/Server/AdminServer&gt; <span class="built_in">set</span>(<span class="string">&#x27;ListenPort&#x27;</span>, 7001)</span><br><span class="line">wls:/offline/base_domain/Server/AdminServer&gt; <span class="built_in">cd</span>(<span class="string">&#x27;/&#x27;</span>)</span><br><span class="line">wls:/offline/base_domain&gt; <span class="built_in">cd</span>(<span class="string">&#x27;Security/base_domain/User/weblogic&#x27;</span>)</span><br><span class="line"><span class="comment">#设置启动密码8位以上,包括数字或特殊字符</span></span><br><span class="line">wls:/offline/base_domain/Security/base_domain/User/weblogic&gt; cmo.setPassword(<span class="string">&#x27;weblogic123&#x27;</span>)</span><br><span class="line">wls:/offline/base_domain/Security/base_domain/User/weblogic&gt; setOption(<span class="string">&#x27;OverwriteDomain&#x27;</span>, <span class="string">&#x27;true&#x27;</span>)</span><br><span class="line"><span class="comment">#设置域的路径</span></span><br><span class="line">wls:/offline/base_domain/Security/base_domain/User/weblogic&gt; writeDomain(<span class="string">&#x27;/home/weblogic/weblogic12c/user_projects/armDomain&#x27;</span>)   </span><br><span class="line">wls:/offline/domain/Security/domain/User/weblogic&gt;closeTemplate()</span><br><span class="line">wls:/offline&gt;<span class="built_in">exit</span>()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2><span id="3启动weblogic">3.启动weblogic</span></h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##进入创建的域目录bin下</span></span><br><span class="line"><span class="built_in">cd</span> /home/weblogic/weblogic12c/user_projects/armDomain</span><br><span class="line"><span class="comment">#启动</span></span><br><span class="line">./startWebLogic.sh </span><br><span class="line"><span class="comment">#后台启动使用</span></span><br><span class="line"><span class="built_in">nohup</span> ./startWebLogic.sh &amp;</span><br><span class="line"><span class="comment">#关闭weblogic</span></span><br><span class="line">./stopWeblogic.sh </span><br></pre></td></tr></table></figure>

<h2><span id="4访问">4.访问</span></h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://IP:7100/console</span><br></pre></td></tr></table></figure>

<h2><span id="5安装后问题">5.安装后问题</span></h2><p><code>部署应用保错 &#39;java.lang.OutOfMemoryError: GC overhead limit exceeded&#39;</code></p>
<p>解决方案：<strong><strong>调大Weblogic的启动内存即可</strong></strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#window:</span></span><br><span class="line"><span class="comment">#修改Middleware\Oracle_Home\user_projects\domains\base_domain\startWebLogic.cmd</span></span><br><span class="line"><span class="comment">#在SETLOCAL-ENDLOCAL中新增</span></span><br><span class="line"><span class="built_in">set</span> MEM_ARGS=-Xms512m -Xmx768m</span><br><span class="line"></span><br><span class="line"><span class="comment">#linux</span></span><br><span class="line"><span class="comment">#修改start-WebLogic.sh</span></span><br><span class="line">MEM_ARGS=-Xms512m -Xmx768m</span><br><span class="line"><span class="comment">#修改bin文件夹下的setDomainEnv.sh</span></span><br><span class="line">vim setDomainEnv.sh</span><br><span class="line">WLS_MEM_ARGS_64BIT=<span class="string">&quot;-Xms512m -Xmx1024m&quot;</span></span><br><span class="line">WLS_MEM_ARGS_32BIT=<span class="string">&quot;-Xms512m -Xmx1024m&quot;</span></span><br></pre></td></tr></table></figure>

<h2><span id="6配置启动脚本">6配置启动脚本</span></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#脚本放到weblogic文件夹下</span></span><br><span class="line"><span class="built_in">cd</span> /home/weblogic</span><br><span class="line"><span class="comment">#新建日志文件夹</span></span><br><span class="line"><span class="built_in">mkdir</span> weblogic-log</span><br><span class="line"></span><br><span class="line">vim start-weblogic.sh</span><br><span class="line"><span class="comment">#编辑</span></span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;weblogic starting...&quot;</span></span><br><span class="line">`<span class="built_in">nohup</span> /home/weblogic/weblogic12c/user_projects/armDomain/startWebLogic.sh &gt; /home/weblogic/weblogic-log/run.log 2&gt;&amp;1 &amp;`</span><br><span class="line"></span><br><span class="line"><span class="comment">#设置权限</span></span><br><span class="line"><span class="built_in">chmod</span> 777 start-weblogic.sh</span><br><span class="line"><span class="comment">#启动</span></span><br><span class="line">./start-weblogic.sh</span><br></pre></td></tr></table></figure>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-databases/Activiti5.22.0兼容达梦数据库" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2023/05/30/databases/Activiti5.22.0%E5%85%BC%E5%AE%B9%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93/" class="article-date">
  	<time datetime="2023-05-30T03:31:19.728Z" itemprop="datePublished">2023-05-30</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/05/30/databases/Activiti5.22.0%E5%85%BC%E5%AE%B9%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93/">
        Activiti5.22.0兼容达梦数据库
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1><span id="activiti5220兼容达梦数据库">Activiti5.22.0兼容达梦数据库</span></h1><p>修改Activiti源码使Activiti兼容达梦数据库,<br>Activiti版本为5.22.0</p>
<h2><span id="1-下载源码">1. 下载源码</span></h2><p>代码地址: <code>git@github.com:Activiti/Activiti.git</code><br>切换activiti-engine模块分支至5.22.0:<code>e92ce378</code></p>
<h2><span id="2-源码修改">2. 源码修改</span></h2><h3><span id="1-在orgactivitiengineimplcfgprocessengineconfigurationimpl增加dm成员变量">1. 在org.activiti.engine.impl.cfg.ProcessEngineConfigurationImpl，增加dm成员变量：</span></h3><p><code>public static final String DATABASE_TYPE_DM = &quot;dm&quot;;</code></p>
<h3><span id="2-在orgactivitiengineimplcfgprocessengineconfigurationimpl修改getdefaultdatabasetypemappings">2. 在org.activiti.engine.impl.cfg.ProcessEngineConfigurationImpl，修改getDefaultDatabaseTypeMappings()：</span></h3><p><code>databaseTypeMappings.setProperty(&quot;DM DBMS&quot;, DATABASE_TYPE_DM);</code><br><img src="/../../images/databases/activiti%E5%85%BC%E5%AE%B9%E8%BE%BE%E6%A2%A601.png" alt="ProcessEngineConfigurationImpl" title="ProcessEngineConfigurationImpl">;</p>
<h3><span id="3-在orgactivitiengineimpldbdbsqlsession增加版本信息">3. 在org.activiti.engine.impl.db.DbSqlSession，增加版本信息</span></h3><p><code>ACTIVITI_VERSIONS.add(new ActivitiVersion(&quot;5.22.0.0&quot;));</code><br><img src="/../../images/databases/activiti%E5%85%BC%E5%AE%B9%E8%BE%BE%E6%A2%A602.png" alt="DbSqlSession" title="DbSqlSession">;</p>
<h3><span id="4-在orgactivitiengineimpldbdbsqlsessionfactory添加达梦信息">4. 在org.activiti.engine.impl.db.DbSqlSessionFactory,添加达梦信息</span></h3><p>达梦语句与oracle基本一致,信息复制oracle修改名称</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 达梦 dm</span></span><br><span class="line">    databaseSpecificLimitBeforeStatements.put(<span class="string">&quot;dm&quot;</span>, <span class="string">&quot;select * from ( select a.*, ROWNUM rnum from (&quot;</span>);</span><br><span class="line">    databaseSpecificLimitAfterStatements.put(<span class="string">&quot;dm&quot;</span>, <span class="string">&quot;  ) a where ROWNUM &lt; #&#123;lastRow&#125;) where rnum  &gt;= #&#123;firstRow&#125;&quot;</span>);</span><br><span class="line">    databaseSpecificLimitBetweenStatements.put(<span class="string">&quot;dm&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">    databaseOuterJoinLimitBetweenStatements.put(<span class="string">&quot;dm&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">    databaseSpecificOrderByStatements.put(<span class="string">&quot;dm&quot;</span>, defaultOrderBy);</span><br><span class="line">    addDatabaseSpecificStatement(<span class="string">&quot;dm&quot;</span>, <span class="string">&quot;selectExclusiveJobsToExecute&quot;</span>, <span class="string">&quot;selectExclusiveJobsToExecute_integerBoolean&quot;</span>);</span><br><span class="line">    addDatabaseSpecificStatement(<span class="string">&quot;dm&quot;</span>, <span class="string">&quot;selectUnlockedTimersByDuedate&quot;</span>, <span class="string">&quot;selectUnlockedTimersByDuedate_oracle&quot;</span>);</span><br><span class="line">    addDatabaseSpecificStatement(<span class="string">&quot;dm&quot;</span>, <span class="string">&quot;insertEventLogEntry&quot;</span>, <span class="string">&quot;insertEventLogEntry_oracle&quot;</span>);</span><br><span class="line">    addDatabaseSpecificStatement(<span class="string">&quot;dm&quot;</span>, <span class="string">&quot;bulkInsertVariableInstance&quot;</span>, <span class="string">&quot;bulkInsertVariableInstance_oracle&quot;</span>);</span><br><span class="line">    addDatabaseSpecificStatement(<span class="string">&quot;dm&quot;</span>, <span class="string">&quot;bulkInsertTask&quot;</span>, <span class="string">&quot;bulkInsertTask_oracle&quot;</span>);</span><br><span class="line">    addDatabaseSpecificStatement(<span class="string">&quot;dm&quot;</span>, <span class="string">&quot;bulkInsertResource&quot;</span>, <span class="string">&quot;bulkInsertResource_oracle&quot;</span>);</span><br><span class="line">    addDatabaseSpecificStatement(<span class="string">&quot;dm&quot;</span>, <span class="string">&quot;bulkInsertProperty&quot;</span>, <span class="string">&quot;bulkInsertProperty_oracle&quot;</span>);</span><br><span class="line">    addDatabaseSpecificStatement(<span class="string">&quot;dm&quot;</span>, <span class="string">&quot;bulkInsertProcessDefinition&quot;</span>, <span class="string">&quot;bulkInsertProcessDefinition_oracle&quot;</span>);</span><br><span class="line">    addDatabaseSpecificStatement(<span class="string">&quot;dm&quot;</span>, <span class="string">&quot;bulkInsertModel&quot;</span>, <span class="string">&quot;bulkInsertModel_oracle&quot;</span>);</span><br><span class="line">    addDatabaseSpecificStatement(<span class="string">&quot;dm&quot;</span>, <span class="string">&quot;bulkInsertTimer&quot;</span>, <span class="string">&quot;bulkInsertTimer_oracle&quot;</span>);</span><br><span class="line">    addDatabaseSpecificStatement(<span class="string">&quot;dm&quot;</span>, <span class="string">&quot;bulkInsertMessage&quot;</span>, <span class="string">&quot;bulkInsertMessage_oracle&quot;</span>);</span><br><span class="line">    addDatabaseSpecificStatement(<span class="string">&quot;dm&quot;</span>, <span class="string">&quot;bulkInsertIdentityLink&quot;</span>, <span class="string">&quot;bulkInsertIdentityLink_oracle&quot;</span>);</span><br><span class="line">    addDatabaseSpecificStatement(<span class="string">&quot;dm&quot;</span>, <span class="string">&quot;bulkInsertHistoricVariableInstance&quot;</span>, <span class="string">&quot;bulkInsertHistoricVariableInstance_oracle&quot;</span>);</span><br><span class="line">    addDatabaseSpecificStatement(<span class="string">&quot;dm&quot;</span>, <span class="string">&quot;bulkInsertHistoricTaskInstance&quot;</span>, <span class="string">&quot;bulkInsertHistoricTaskInstance_oracle&quot;</span>);</span><br><span class="line">    addDatabaseSpecificStatement(<span class="string">&quot;dm&quot;</span>, <span class="string">&quot;bulkInsertHistoricProcessInstance&quot;</span>, <span class="string">&quot;bulkInsertHistoricProcessInstance_oracle&quot;</span>);</span><br><span class="line">    addDatabaseSpecificStatement(<span class="string">&quot;dm&quot;</span>, <span class="string">&quot;bulkInsertHistoricIdentityLink&quot;</span>, <span class="string">&quot;bulkInsertHistoricIdentityLink_oracle&quot;</span>);</span><br><span class="line">    addDatabaseSpecificStatement(<span class="string">&quot;dm&quot;</span>, <span class="string">&quot;bulkInsertHistoricDetailVariableInstanceUpdate&quot;</span>, <span class="string">&quot;bulkInsertHistoricDetailVariableInstanceUpdate_oracle&quot;</span>);</span><br><span class="line">    addDatabaseSpecificStatement(<span class="string">&quot;dm&quot;</span>, <span class="string">&quot;bulkInsertHistoricFormProperty&quot;</span>, <span class="string">&quot;bulkInsertHistoricFormProperty_oracle&quot;</span>);</span><br><span class="line">    addDatabaseSpecificStatement(<span class="string">&quot;dm&quot;</span>, <span class="string">&quot;bulkInsertHistoricActivityInstance&quot;</span>, <span class="string">&quot;bulkInsertHistoricActivityInstance_oracle&quot;</span>);</span><br><span class="line">    addDatabaseSpecificStatement(<span class="string">&quot;dm&quot;</span>, <span class="string">&quot;bulkInsertExecution&quot;</span>, <span class="string">&quot;bulkInsertExecution_oracle&quot;</span>);</span><br><span class="line">    addDatabaseSpecificStatement(<span class="string">&quot;dm&quot;</span>, <span class="string">&quot;bulkInsertMessageEventSubscription&quot;</span>, <span class="string">&quot;bulkInsertMessageEventSubscription_oracle&quot;</span>);</span><br><span class="line">    addDatabaseSpecificStatement(<span class="string">&quot;dm&quot;</span>, <span class="string">&quot;bulkInsertSignalEventSubscription&quot;</span>, <span class="string">&quot;bulkInsertSignalEventSubscription_oracle&quot;</span>);</span><br><span class="line">    addDatabaseSpecificStatement(<span class="string">&quot;dm&quot;</span>, <span class="string">&quot;bulkInsertCompensateEventSubscription&quot;</span>, <span class="string">&quot;bulkInsertCompensateEventSubscription_oracle&quot;</span>);</span><br><span class="line">    addDatabaseSpecificStatement(<span class="string">&quot;dm&quot;</span>, <span class="string">&quot;bulkInsertEventLogEntry&quot;</span>, <span class="string">&quot;bulkInsertEventLogEntry_oracle&quot;</span>);</span><br><span class="line">    addDatabaseSpecificStatement(<span class="string">&quot;dm&quot;</span>, <span class="string">&quot;bulkInsertDeployment&quot;</span>, <span class="string">&quot;bulkInsertDeployment_oracle&quot;</span>);</span><br><span class="line">    addDatabaseSpecificStatement(<span class="string">&quot;dm&quot;</span>, <span class="string">&quot;bulkInsertComment&quot;</span>, <span class="string">&quot;bulkInsertComment_oracle&quot;</span>);</span><br><span class="line">    addDatabaseSpecificStatement(<span class="string">&quot;dm&quot;</span>, <span class="string">&quot;bulkInsertByteArray&quot;</span>, <span class="string">&quot;bulkInsertByteArray_oracle&quot;</span>);</span><br><span class="line">    addDatabaseSpecificStatement(<span class="string">&quot;dm&quot;</span>, <span class="string">&quot;bulkInsertEventLogEntry&quot;</span>, <span class="string">&quot;bulkInsertEventLogEntry_oracle&quot;</span>);</span><br><span class="line">    addDatabaseSpecificStatement(<span class="string">&quot;dm&quot;</span>, <span class="string">&quot;bulkInsertDeployment&quot;</span>, <span class="string">&quot;bulkInsertDeployment_oracle&quot;</span>);</span><br><span class="line">    addDatabaseSpecificStatement(<span class="string">&quot;dm&quot;</span>, <span class="string">&quot;bulkInsertComment&quot;</span>, <span class="string">&quot;bulkInsertComment_oracle&quot;</span>);</span><br><span class="line">    addDatabaseSpecificStatement(<span class="string">&quot;dm&quot;</span>, <span class="string">&quot;bulkInsertAttachment&quot;</span>, <span class="string">&quot;bulkInsertAttachment_oracle&quot;</span>);</span><br><span class="line">    addDatabaseSpecificStatement(<span class="string">&quot;dm&quot;</span>, <span class="string">&quot;bulkInsertJob&quot;</span>, <span class="string">&quot;bulkInsertJob_oracle&quot;</span>);</span><br><span class="line">    addDatabaseSpecificStatement(<span class="string">&quot;dm&quot;</span>, <span class="string">&quot;bulkInsertTimerJob&quot;</span>, <span class="string">&quot;bulkInsertTimerJob_oracle&quot;</span>);</span><br><span class="line">    addDatabaseSpecificStatement(<span class="string">&quot;dm&quot;</span>, <span class="string">&quot;bulkInsertSuspendedJob&quot;</span>, <span class="string">&quot;bulkInsertSuspendedJob_oracle&quot;</span>);</span><br><span class="line">    addDatabaseSpecificStatement(<span class="string">&quot;dm&quot;</span>, <span class="string">&quot;bulkInsertDeadLetterJob&quot;</span>, <span class="string">&quot;bulkInsertDeadLetterJob_oracle&quot;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="/../../images/databases/activiti%E5%85%BC%E5%AE%B9%E8%BE%BE%E6%A2%A603.png" alt="DbSqlSessionFactory" title="DbSqlSessionFactory">;</p>
<h3><span id="5-修改orgactivitiengineimpldbdbsqlsessionfactory-类的-initbulkinsertenabledmapstring-databasetype方法">5. 修改org.activiti.engine.impl.db.DbSqlSessionFactory 类的 initBulkInsertEnabledMap(String databaseType)方法</span></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="string">&quot;oracle&quot;</span>.equals(databaseType) || <span class="string">&quot;dm&quot;</span>.equals(databaseType)) &#123;</span><br><span class="line">	bulkInsertableMap.put(EventLogEntryEntity.class, Boolean.FALSE);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/../../images/databases/activiti%E5%85%BC%E5%AE%B9%E8%BE%BE%E6%A2%A604.png" alt="DbSqlSessionFactory" title="DbSqlSessionFactory">;</p>
<h3><span id="6-修改orgactivitiengineimplabstractquery-类的-addorderstring-column-string-sortorder-nullhandlingonorder-nullhandlingonorder方法">6. 修改org.activiti.engine.impl.AbstractQuery 类的 addOrder(String column, String sortOrder, NullHandlingOnOrder nullHandlingOnOrder)方法</span></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (nullHandlingOnOrder.equals(NullHandlingOnOrder.NULLS_FIRST)) &#123;</span><br><span class="line">  			</span><br><span class="line">  			<span class="keyword">if</span> (ProcessEngineConfigurationImpl.DATABASE_TYPE_H2.equals(databaseType)</span><br><span class="line">            || ProcessEngineConfigurationImpl.DATABASE_TYPE_HSQL.equals(databaseType)</span><br><span class="line">  					|| ProcessEngineConfigurationImpl.DATABASE_TYPE_POSTGRES.equals(databaseType)</span><br><span class="line">  					|| ProcessEngineConfigurationImpl.DATABASE_TYPE_ORACLE.equals(databaseType)</span><br><span class="line">                    || ProcessEngineConfigurationImpl.DATABASE_TYPE_DM.equals(databaseType)) &#123;<span class="comment">//达梦</span></span><br><span class="line">  				orderBy = orderBy + defaultOrderByClause + <span class="string">&quot; NULLS FIRST&quot;</span>;</span><br><span class="line">  			&#125; <span class="keyword">else</span> <span class="keyword">if</span> (ProcessEngineConfigurationImpl.DATABASE_TYPE_MYSQL.equals(databaseType)) &#123;</span><br><span class="line">    			orderBy = orderBy + <span class="string">&quot;isnull(&quot;</span> + column +<span class="string">&quot;) desc,&quot;</span> + defaultOrderByClause;</span><br><span class="line">    		&#125; <span class="keyword">else</span> <span class="keyword">if</span> (ProcessEngineConfigurationImpl.DATABASE_TYPE_DB2.equals(databaseType)</span><br><span class="line">    				|| ProcessEngineConfigurationImpl.DATABASE_TYPE_MSSQL.equals(databaseType)) &#123;</span><br><span class="line">    			orderBy = orderBy + <span class="string">&quot;case when &quot;</span> + column + <span class="string">&quot; is null then 0 else 1 end,&quot;</span> + defaultOrderByClause;</span><br><span class="line">    		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    			orderBy = orderBy + defaultOrderByClause;</span><br><span class="line">    		&#125;</span><br><span class="line">    		</span><br><span class="line">  			</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nullHandlingOnOrder.equals(NullHandlingOnOrder.NULLS_LAST)) &#123;</span><br><span class="line">      	</span><br><span class="line">  			<span class="keyword">if</span> (ProcessEngineConfigurationImpl.DATABASE_TYPE_H2.equals(databaseType)</span><br><span class="line">  			    || ProcessEngineConfigurationImpl.DATABASE_TYPE_HSQL.equals(databaseType)</span><br><span class="line">  					|| ProcessEngineConfigurationImpl.DATABASE_TYPE_POSTGRES.equals(databaseType)</span><br><span class="line">  					|| ProcessEngineConfigurationImpl.DATABASE_TYPE_ORACLE.equals(databaseType)</span><br><span class="line">  					|| ProcessEngineConfigurationImpl.DATABASE_TYPE_DM.equals(databaseType)) &#123;<span class="comment">//达梦</span></span><br><span class="line">  				orderBy = orderBy + column + <span class="string">&quot; &quot;</span>+sortOrder + <span class="string">&quot; NULLS LAST&quot;</span>;</span><br><span class="line">  			&#125; <span class="keyword">else</span> <span class="keyword">if</span> (ProcessEngineConfigurationImpl.DATABASE_TYPE_MYSQL.equals(databaseType)) &#123;</span><br><span class="line">    			orderBy = orderBy + <span class="string">&quot;isnull(&quot;</span> + column +<span class="string">&quot;) asc,&quot;</span> + defaultOrderByClause;</span><br><span class="line">    		&#125; <span class="keyword">else</span> <span class="keyword">if</span> (ProcessEngineConfigurationImpl.DATABASE_TYPE_DB2.equals(databaseType)</span><br><span class="line">    				|| ProcessEngineConfigurationImpl.DATABASE_TYPE_MSSQL.equals(databaseType)) &#123;</span><br><span class="line">    			orderBy = orderBy + <span class="string">&quot;case when &quot;</span> + column + <span class="string">&quot; is null then 1 else 0 end,&quot;</span> + defaultOrderByClause;</span><br><span class="line">    		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    			orderBy = orderBy + defaultOrderByClause;</span><br><span class="line">    		&#125;</span><br><span class="line">      	</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure>
<p><img src="/../../images/databases/activiti%E5%85%BC%E5%AE%B9%E8%BE%BE%E6%A2%A605.png" alt="AbstractQuery" title="AbstractQuery">;</p>
<h3><span id="7-新增达梦sql文件">7. 新增达梦sql文件</span></h3><h4><span id="1-复制文件">1. 复制文件</span></h4><p>达梦sql与oracle基本一致 复制oracle文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">复制resources.org.activiti.db.creat目录下</span><br><span class="line">    activiti.oracle.create.engine.sql,</span><br><span class="line">    activiti.oracle.create.history.sql,</span><br><span class="line">    activiti.oracle.create.identity.sql</span><br><span class="line">到同目录下并更名为</span><br><span class="line">    activiti.dm.create.engine.sql</span><br><span class="line">    activiti.dm.create.history.sql</span><br><span class="line">    activiti.dm.create.identity.sql</span><br><span class="line"></span><br><span class="line">复制resources.org.activiti.db.drop目录下</span><br><span class="line">    activiti.oracle.drop.engine.sql</span><br><span class="line">    activiti.oracle.drop.history.sql</span><br><span class="line">    activiti.oracle.drop.identity.sql</span><br><span class="line">到同目录下并更名为</span><br><span class="line">    activiti.dm.drop.engine.sql</span><br><span class="line">    activiti.dm.drop.history.sql</span><br><span class="line">    activiti.dm.drop.identity.sql</span><br></pre></td></tr></table></figure>
<h3><span id="2-修改sql文件">2. 修改sql文件</span></h3><p>达梦不存在<code>NVARCHAR2</code> 关键字,将复制sql文件中的<code>NVARCHAR2</code> 改为<code>varchar</code>;<br><img src="/../../images/databases/activiti%E5%85%BC%E5%AE%B9%E8%BE%BE%E6%A2%A606.png" alt="sql" title="sql"></p>
<h1><span id="3-替换jar包">3 替换jar包</span></h1><p>重新打包代码,并替换maven中jar包即可</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/databases/" rel="tag">databases</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/log/" rel="tag">log</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%BE%BE%E6%A2%A6/" rel="tag">达梦</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/log/">log</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">Next &amp;raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
      <div class="footer-left">
        &copy; 2023 li
      </div>
        <div class="footer-right">
          <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/preccrep/hexo-theme-jelly" target="_blank">Jelly</a>
        </div>
    </div>
  </div>
</footer>
    </div>
    
  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">



<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: false,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>

<script src="/js/main.js"></script>




  </div>
</body>
</html>